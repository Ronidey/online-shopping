(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{132:function(e,t,a){"use strict";var c=a(13),s=a(1),n=a(30),r=a(24),i=a(157),o=a(155),l=a.n(o),j=a(260),d=a.n(j),u=(a(513),a(2));t.a=function(){var e=Object(s.useContext)(n.a),t=e.appState,a=e.appDispatch,o=Object(r.g)(),j=Object(s.createRef)(null),h=Object(s.useState)(""),b=Object(c.a)(h,2),m=b[0],O=b[1];return Object(s.useEffect)((function(){t.isSearchOpen&&j.current.focus()}),[t.isSearchOpen]),Object(u.jsx)("div",{className:"search-box ".concat(t.isSearchOpen?"is-open":""),id:"searchBox",children:Object(u.jsxs)("div",{className:"search-box__container",children:[Object(u.jsx)(i.a,{"aria-label":"close search",type:"submit",onClick:function(){a({type:"closeSearch"})},style:{position:"absolute",top:"1rem",right:"1rem"},children:Object(u.jsx)(d.a,{})}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({type:"closeSearch"}),a({type:"searching"}),o.push("/search?q="+encodeURIComponent(m)),O("")},className:"form-search",children:[Object(u.jsx)("input",{ref:j,type:"search",name:"search",placeholder:"Search products...",value:m,onChange:function(e){O(e.target.value)}}),Object(u.jsx)(i.a,{"aria-label":"search",type:"submit",children:Object(u.jsx)(l.a,{fontSize:"large"})})]})]})})}},248:function(e,t,a){"use strict";a(1),a(505);var c=a(2);t.a=function(e){var t=e.count,a=void 0===t?5:t;return Object(c.jsx)(c.Fragment,{children:Array(a).fill("").map((function(e,t){return Object(c.jsx)("div",{className:"PlaceholderCard"},t)}))})}},249:function(e,t,a){"use strict";var c=a(13),s=a(1),n=a(16),r=a(521),i=a(526),o=(a(506),a(250)),l=a(2);var j=Object(r.a)({root:{"&:hover $btnWish":{opacity:1}},btnWish:{opacity:0,position:"absolute",top:"0.5rem",right:"0.5rem",zIndex:1}});t.a=function(e){var t=e.product,a=Object(s.useState)(!1),r=Object(c.a)(a,2),d=r[0],u=r[1],h=Object(s.useState)(!1),b=Object(c.a)(h,2),m=b[0],O=b[1],p=j(),x={height:"100%",objectFit:"shoes"===t.category?"contain":"cover",display:m?"inline-block":"none"},f={width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:"0.5",display:m?"none":"inline-block"};return Object(s.useEffect)((function(){u(!0)}),[]),Object(l.jsx)(i.a,{timeout:1e3,in:d,classNames:"ProductCardWrapper",children:Object(l.jsx)(n.b,{to:"/products/".concat(t._id),className:p.root,children:Object(l.jsxs)("div",{className:"ProductCard",children:[Object(l.jsx)(o.a,{className:p.btnWish,productId:t._id}),Object(l.jsxs)("div",{className:"ProductCard__img",children:[Object(l.jsx)("img",{style:x,src:t.imgUrl,alt:"",onLoad:function(){return O(!0)}}),Object(l.jsx)("img",{style:f,src:"/images/spinner.gif"})]}),Object(l.jsxs)("div",{className:"ProductCard__info",children:[Object(l.jsx)("h6",{className:"title",children:t.title.length>25?t.title.slice(0,25)+"...":t.title}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{className:"price",children:["\u20b9",t.currentPrice.toLocaleString()]}),Object(l.jsxs)("span",{className:"price--del",children:["\u20b9",t.oldPrice.toLocaleString()]}),Object(l.jsxs)("span",{className:"discount",children:["\xa0",t.off,"% off"]})]})]})]})})})}},250:function(e,t,a){"use strict";var c=a(1),s=a(24),n=a(30),r=a(157),i=a(154),o=a.n(i),l=a(259),j=a.n(l),d=a(2);t.a=function(e){var t=Object(s.g)(),a=Object(c.useContext)(n.a),i=a.appState,l=a.appDispatch,u=i.user.wishlist.find((function(t){return t.product==e.productId}));return Object(d.jsx)("div",{children:u?Object(d.jsx)(r.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:function(t){t.preventDefault(),l({type:"removeItemFromWishlist",payload:e.productId})},className:e.className,children:Object(d.jsx)(j.a,{})}):Object(d.jsx)(r.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:function(a){if(a.preventDefault(),!i.isLoggedIn)return t.push("/login?error=".concat(encodeURIComponent("You are not logged in! Please login first")));l({type:"addItemToWishlist",payload:e.productId})},className:e.className,children:Object(d.jsx)(o.a,{})})})}},251:function(e,t,a){"use strict";var c=a(32),s=a(156),n=(a(1),a(508),a(2));t.a=function(e){var t=e.cards,a=Object(s.a)(e,["cards"]);return Object(n.jsx)("div",Object(c.a)(Object(c.a)({className:"ProductsGrid"},a),{},{children:t}))}},252:function(e,t,a){"use strict";a(1);var c=a(16),s=a(522),n=a(253),r=a(2);t.a=function(e){var t=e.product,a=e.size,i=e.qty,o=e.changeItemQty,l=e.removeItem;return Object(r.jsxs)("div",{className:"cart-item d-flex align-items-center flex-wrap",children:[Object(r.jsx)(c.b,{to:"/products/".concat(t._id),className:"cart-item__img",children:Object(r.jsx)("img",{src:t.imgUrl,alt:t.title})}),Object(r.jsxs)("div",{className:"cart-item__info",children:[Object(r.jsxs)(c.b,{to:"/products/".concat(t._id),children:[Object(r.jsxs)("h4",{className:"cart-item__title text-capitalize",children:[t.title.length>30?t.title.slice(0,30)+"...":t.title," ",Object(r.jsxs)("small",{children:["(size: ",a,")"]})]}),Object(r.jsx)("span",{className:"badge badge-green",children:"in stock"})]}),i&&Object(r.jsx)(n.a,{qty:i,handleItemQtyChange:function(e){o(t._id,e)}}),Object(r.jsxs)("div",{className:"cart-item__price",children:["\u20b9 ",t.currentPrice.toLocaleString()]}),Object(r.jsx)(s.a,{variant:"contained",color:"secondary",onClick:function(e){window.confirm("Do you want to Remove this product?")&&l(t._id)},children:"Remove"})]})]})}},253:function(e,t,a){"use strict";var c=a(13),s=a(1),n=a(528),r=a(129),i=a(523),o=a(525),l=a(2);t.a=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),j=a[0],d=a[1],u=Object(s.useState)(e.qty),h=Object(c.a)(u,2),b=h[0],m=h[1];return Object(l.jsxs)(i.a,{children:[Object(l.jsx)(n.a,{id:"demo-controlled-open-select-label",children:"Age"}),Object(l.jsxs)(o.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:j,onClose:function(){d(!1)},onOpen:function(){d(!0)},value:b,onChange:function(t){m(t.target.value),e.handleItemQtyChange(t.target.value)},children:[Object(l.jsx)(r.a,{value:1,children:"1"}),Object(l.jsx)(r.a,{value:2,children:"2"}),Object(l.jsx)(r.a,{value:3,children:"3"}),Object(l.jsx)(r.a,{value:4,children:"4"}),Object(l.jsx)(r.a,{value:5,children:"5"})]})]})}},254:function(e,t,a){},30:function(e,t,a){"use strict";var c=a(1),s=Object(c.createContext)();t.a=s},499:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);a(277),a(278),a(279),a(280),a(281),a(282),a(283),a(284),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(301),a(302),a(137),a(303),a(304),a(305),a(306),a(307),a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(343),a(344),a(345),a(346),a(347),a(348),a(350),a(352),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(375),a(376),a(380),a(381),a(382),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(224),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(227),a(402),a(403),a(404),a(405),a(406),a(407),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(432),a(433),a(434),a(435),a(436),a(437),a(438),a(439),a(440),a(441),a(442),a(443),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(465),a(466),a(467),a(468),a(470),a(471),a(472),a(473),a(476),a(237),a(238);var c=a(1),s=a.n(c),n=a(21),r=a.n(n),i=a(13),o=a(24),l=a(22),j=a.n(l),d=a(266),u=a(30),h=a(526),b=a(34),m=(a(499),a(2));function O(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){var e;return e=setTimeout((function(){s(!a)}),1e4),function(){return clearTimeout(e)}}),[a]),Object(m.jsxs)("div",{className:"Banners",children:[Object(m.jsx)(h.a,{in:a,timeout:1e3,classNames:"banner-slider",unmountOnExit:!0,children:Object(m.jsx)("div",{className:"banner banner-1",children:Object(m.jsxs)("div",{className:"banner-1__text",children:[Object(m.jsx)("h1",{className:"banner__heading",children:"Wear The Fashion"}),Object(m.jsx)("p",{className:"banner__subheading",children:"Best Offers on your favourite Brands, So what are you waiting for?"}),Object(m.jsx)(b.a,{className:"banner__btn",to:"#collection",children:"Shop Now"})]})})}),Object(m.jsx)(h.a,{in:!a,timeout:1e3,classNames:"banner-slider",unmountOnExit:!0,children:Object(m.jsx)("div",{className:"banner banner-2",children:Object(m.jsxs)("div",{className:"banner-2__text",children:[Object(m.jsx)("h1",{className:"banner__heading",children:"Create your own style"}),Object(m.jsx)("p",{className:"banner__subheading",children:"Get the best deal for you! We have all the latest collections, Hurry up!!"}),Object(m.jsx)(b.a,{className:"banner__btn",to:"#collection",children:"Shop Now"})]})})})]})}var p=s.a.memo(O),x=a(65),f=a.n(x),g=a(128),v=a(94),y=a(566),N=a(248),w=a(249),_=a(251);a(509);var S=function(e){var t=e.isLoading?Object(m.jsx)(N.a,{}):e.products.map((function(e){return Object(m.jsx)(w.a,{product:e},e._id)}));return Object(m.jsx)("section",{className:"ProductsSection ".concat(e.className),id:e.id,children:Object(m.jsxs)(y.a,{maxWidth:"lg",children:[Object(m.jsx)("header",{className:"ProductsSection__header",children:e.children}),Object(m.jsx)(_.a,{cards:t})]})})};a(510);var C=function(e){var t=e.categories,a=e.activeCategory,c=e.setActiveCategory,s=function(e){e.preventDefault(),c(e.currentTarget.dataset.category)};return Object(m.jsx)("div",{className:"CategoriesNav",children:t.map((function(e){return Object(m.jsx)("a",{href:"#","data-category":e.ct,onClick:s,className:"CategoriesNav__link ".concat(a===e.ct?"is-active":""),children:e.txt},e.ct)}))})};var I=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],d=Object(c.useState)("jean"),u=Object(i.a)(d,2),h=u[0],b=u[1];Object(c.useEffect)((function(){var e=j.a.CancelToken.source(),t="/products/category",a="?fields=title,imgUrl,currentPrice,oldPrice,category&limit=10";return function(){var c=Object(v.a)(f.a.mark((function c(){var n,r,o,d,u,h;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.all([j.a.get("".concat(t,"/jean").concat(a),{cancelToken:e.token}),j.a.get("".concat(t,"/tShirt").concat(a),{cancelToken:e.token}),j.a.get("".concat(t,"/trouser").concat(a),{cancelToken:e.token}),j.a.get("".concat(t,"/shoes").concat(a),{cancelToken:e.token})]);case 3:n=c.sent,r=Object(i.a)(n,4),o=r[0],d=r[1],u=r[2],h=r[3],l([].concat(Object(g.a)(o.data.docs),Object(g.a)(d.data.docs),Object(g.a)(u.data.docs),Object(g.a)(h.data.docs))),s(!1),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(0),j.a.isCancel(c.t0)||alert(c.t0.response.data.error);case 16:case"end":return c.stop()}}),c,null,[[0,13]])})));return function(){return c.apply(this,arguments)}}()(),function(){return e.cancel()}}),[]);var O=o.filter((function(e){return e.category===h}));return Object(m.jsxs)(S,{id:"collection",className:"collection",products:O,isLoading:a,children:[Object(m.jsx)("h2",{children:"Our Latest Collection"}),Object(m.jsx)(C,{categories:[{ct:"jean",txt:"Jeans"},{ct:"tShirt",txt:"T-Shirts"},{ct:"shoes",txt:"Shoes"},{ct:"trouser",txt:"Trousers"}],activeCategory:h,setActiveCategory:b})]})};var k=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){var e=j.a.CancelToken.source();return function(){var t=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/products?sort=-avgRating&limit=10&fields=title,imgUrl,currentPrice,oldPrice,category",{cancelToken:e.token});case 3:a=t.sent,l(a.data.docs),s(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j.a.isCancel(t.t0)||alert(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e.cancel()}}),[]),Object(m.jsx)(S,{id:"bestSelling",className:"best-selling",products:o,isLoading:a,children:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("h2",{className:"products__heading",children:"Popular Collection"})})})},P=a(73),L=a(188),W=(a(511),function(e){var t=e.user,a=e.current;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"testimonial-card",children:[Object(m.jsxs)("p",{className:"comment ".concat(a?"animate":""),children:[Object(m.jsx)(L.a,{})," ",Object(m.jsxs)("span",{children:[t.comment,"\xa0"]})," ",Object(m.jsx)(L.b,{})]}),Object(m.jsxs)("div",{className:"user",children:[Object(m.jsx)("img",{src:"/images/users/".concat(t.img),alt:""}),Object(m.jsx)("p",{className:"name",children:t.name})]})]})})});var E=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=setInterval((function(){s((function(e){return n.current.children.length-1>e?e+1:0}))}),5e3);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){n.current.style.transform="translateX(".concat(100*-a,"%)")}),[a]),Object(m.jsxs)("section",{className:"Testimonials",id:"testimonials",children:[Object(m.jsx)("h2",{className:"Testimonials__heading",children:"What our customers have to say"}),Object(m.jsx)("div",{ref:n,className:"Testimonials__slider",children:[{name:"Max",img:"img-1.jpg",comment:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam quibusdam, hic ea assumenda quos sequi sit beatae, quae dolorem autem facilis, dicta mollitia a excepturi"},{name:"Natasha",img:"img-2.jpg",comment:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam quibusdam, hic ea assumenda quos sequi sit beatae, quae dolorem autem facilis, dicta mollitia a excepturi"},{name:"Julia",img:"img-3.jpg",comment:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam quibusdam, hic ea assumenda quos sequi sit beatae, quae dolorem autem facilis, dicta mollitia a excepturi"}].map((function(e,t){return Object(m.jsx)(W,{user:e,current:t===a},e.name)}))})]})},F=a(127);a(512);var T=function(){return Object(m.jsxs)("footer",{className:"footer",id:"footer",children:[Object(m.jsxs)("div",{className:"container footer__container d-flex flex-wrap",children:[Object(m.jsxs)("div",{className:"footer__col",children:[Object(m.jsx)("h5",{children:"Go to"}),Object(m.jsxs)("ul",{className:"footer-links-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#home",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#products",children:"Products"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#bestSelling",children:"Popular"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#testimonials",children:"Reviews"})})]})]}),Object(m.jsxs)("div",{className:"footer__col",children:[Object(m.jsx)("h5",{children:"Help"}),Object(m.jsxs)("ul",{className:"footer-links-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#",children:"Order tracking"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#",children:"FAQ's"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#",children:"Privacy policy"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.a,{to:"#",children:"Terms & conditions"})})]})]}),Object(m.jsxs)("div",{className:"footer__col",children:[Object(m.jsx)("h5",{children:"Follow us"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias, culpa! Asperiores omnis repellat cupiditate assumenda."}),Object(m.jsxs)("div",{className:"follow-us",children:[Object(m.jsx)(b.a,{to:"#",children:Object(m.jsx)(F.a,{})}),Object(m.jsx)(b.a,{to:"#",children:Object(m.jsx)(F.b,{})}),Object(m.jsx)(b.a,{to:"#",children:Object(m.jsx)(F.d,{})}),Object(m.jsx)(b.a,{to:"#",children:Object(m.jsx)(F.c,{})})]})]})]}),Object(m.jsx)("div",{className:"footer__bottom",children:Object(m.jsx)("p",{children:"\xa92021 OnlineShopping. All rights are reserved."})})]})},z=a(132),q=a(74);function D(){return Object(m.jsxs)(P.a,{title:"Welcome!",children:[Object(m.jsx)(z.a,{}),Object(m.jsx)(q.a,{}),Object(m.jsxs)("main",{children:[Object(m.jsx)(p,{}),Object(m.jsx)(I,{}),Object(m.jsx)(k,{}),Object(m.jsx)(E,{})]}),Object(m.jsx)(T,{})]})}var B=s.a.memo(D),R=a(32),A=a(16);var M=a(522);var U=function(){return Object(m.jsxs)("div",{className:"img-notify wishlist",children:[Object(m.jsx)("div",{className:"img-notify__img",children:Object(m.jsx)("img",{src:"/images/empty-wishlist.svg",alt:""})}),Object(m.jsxs)("div",{className:"img-notify__text",children:[Object(m.jsx)("h1",{children:"Empty Wishlist"}),Object(m.jsx)("p",{children:"Your wishlist has 0 items"}),Object(m.jsx)(M.a,{to:"/",variant:"contained",size:"large",style:{background:"#f097ff",color:"#fff"},component:A.b,children:"Go Home"})]})]})},H=a(93),V=(a(517),a(252));var J=function(){var e=Object(c.useContext)(u.a),t=e.appDispatch,a=e.appState,s=Object(c.useState)([]),n=Object(i.a)(s,2),r=n[0],o=n[1],l=Object(c.useState)(!0),d=Object(i.a)(l,2),h=d[0],b=d[1];Object(c.useEffect)((function(){if(a.isLoggedIn){var e=j.a.CancelToken.source();return j.a.get("/users/my-wishlist",{cancelToken:e.token}).then((function(e){o(e.data.wishlist),b(!1)})).catch((function(t){j.a.isCancel(e)||alert(t.response.data.error)})),function(){return e.cancel()}}b(!1)}),[a.isLoggedIn]);var O=function(e){var a=r.filter((function(t){return t.product._id!=e}));o(a),t({type:"removeItemFromWishlist",payload:e})};return h?Object(m.jsx)(H.a,{}):Object(m.jsxs)(P.a,{title:"My Wishlist",children:[Object(m.jsx)(z.a,{}),Object(m.jsx)(q.a,{}),Object(m.jsx)("main",{children:r.length?Object(m.jsx)("section",{className:"my-wishlist",children:Object(m.jsxs)("div",{className:"my-wishlist__container",children:[Object(m.jsx)("header",{className:"text-center",children:Object(m.jsx)("h2",{children:"My Wishlist"})}),Object(m.jsx)("div",{children:r.map((function(e){return Object(m.jsx)(V.a,Object(R.a)(Object(R.a)({},e),{},{removeItem:O}),e._id)}))})]})}):Object(m.jsx)(U,{})})]})},G=a(156);var Q=function(e){var t=e.children,a=Object(G.a)(e,["children"]),s=Object(c.useContext)(u.a).appState;return s.fetchingUserData?Object(m.jsx)(H.a,{}):s.isLoggedIn?Object(m.jsx)(o.b,Object(R.a)(Object(R.a)({},a),{},{children:t})):Object(m.jsx)(o.a,{to:"/login"})},Y=a(99),$=a(521);a(254);var Z=Object($.a)({errorMsg:{position:"fixed",top:"8%",left:"50%",background:"rgba(240, 68, 68, 90%)",zIndex:"99",color:"#fff",padding:"0.75rem 1rem",transform:"translate(-50%, -50%)",boxShadow:"0 0 4px rgb(0, 0, 0, 0.25)",width:"90%",textAlign:"center",maxWidth:"500px","&.enter":{opacity:0,transform:"translate(-50%, -50%) scale(1.25)"},"&.enter-active":{opacity:1,transform:"translate(-50%, -50%) scale(1)",transition:"all 600ms ease-in-out"},"& p":{margin:0}}}),X=Object(o.i)((function(e){var t=Object(c.useContext)(u.a).appDispatch,a=Object(c.useState)(""),s=Object(i.a)(a,2),n=s[0],r=s[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),d=l[0],b=l[1],O=Object(c.useState)(!1),p=Object(i.a)(O,2),x=p[0],g=p[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),w=N[0],_=N[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),I=C[0],k=C[1],L=function(e){var t=e.slice(1).split("&"),a={};return t.forEach((function(e){var t=e.split("="),c=Object(i.a)(t,2),s=c[0],n=c[1];a[s]=n})),a}(e.location.search),W=Z(),E=function(){var a=Object(v.a)(f.a.mark((function a(c){var s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),k(!0),a.prev=2,a.next=5,j.a.post("/users/login",{email:n,password:d});case 5:s=a.sent,t({type:"login",payload:s.data.user}),e.history.push("/"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),k(!1),alert(a.t0.response.data.error);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){L.error&&_(decodeURIComponent(L.error))}),[L.error]),Object(m.jsxs)(P.a,{title:"Login",children:[Object(m.jsx)(q.a,{}),Object(m.jsx)(h.a,{in:Boolean(w),timeout:600,unmountOnExit:!0,className:W.errorMsg,children:Object(m.jsx)("div",{className:W.errorMsg,children:Object(m.jsx)("p",{children:w})})}),Object(m.jsx)("main",{children:Object(m.jsx)("section",{className:"login d-flex justify-content-center align-items-center",children:Object(m.jsxs)("div",{className:"login__container",children:[Object(m.jsx)("header",{className:"login__header",children:Object(m.jsx)("h2",{className:"login__heading",children:"Login"})}),Object(m.jsxs)("form",{className:"form-login",onSubmit:E,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return r(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"password",children:"Password"}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{type:x?"text":"password",name:"password",id:"password",onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("span",{role:"button",className:"btn-view-password",onClick:function(){return g(!x)},tabIndex:"0",children:x?Object(m.jsx)(Y.a,{}):Object(m.jsx)(Y.b,{})})]})]}),Object(m.jsx)(M.a,{variant:"contained",disabled:I,type:"submit",className:"btn-block",size:"large",style:{boxShadow:"none"},children:I?"Please wait...":"Login"})]}),Object(m.jsxs)("p",{children:["New here? ",Object(m.jsx)(A.b,{to:"/signup",children:"Signup"})]})]})})})]})})),K=a(255),ee=a(256),te=a(89),ae=a(258),ce=a(257),se=function(e){Object(ae.a)(a,e);var t=Object(ce.a)(a);function a(e){var c;return Object(K.a)(this,a),(c=t.call(this,e)).state={formFields:{firstName:"",lastName:"",email:"",password:""},formErrors:{firstName:"",lastName:"",email:"",password:""},isPasswordVisible:!1,signingIn:!1},c.handleBlur=c.handleBlur.bind(Object(te.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(te.a)(c)),c.handleChange=c.handleChange.bind(Object(te.a)(c)),c.showPassword=c.showPassword.bind(Object(te.a)(c)),c}return Object(ee.a)(a,[{key:"checkFieldValidity",value:function(e,t){var a="";switch(e){case"firstName":a=t.length<3||t.length>8?"First name must be between 3 to 8 letters!":"";break;case"lastName":a=t.length<3||t.length>8?"Last name must be between 3 to 8 letters!":"";break;case"email":a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?"":"Invalid email address!";break;case"password":a=t.length<8||t.length>30?"Password must be 8 to 30 characters long!":"";break;default:throw new Error("Something went wrong!")}return a}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.context.appDispatch,c=Object(R.a)({},this.state.formErrors),s=!0;Object.keys(this.state.formFields).forEach((function(e){var a=t.checkFieldValidity(e,t.state.formFields[e]);a&&(s=!1,c[e]=a)})),this.setState({formErrors:c}),s&&(this.setState({signingIn:!0}),j.a.post("/users/signup",this.state.formFields).then((function(e){t.props.history.push("/"),a({type:"login",payload:e.data.user})})).catch((function(e){t.setState({signingIn:!1}),alert(e.response.data.error)})))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,c=t.value,s=Object(R.a)({},this.state.formErrors),n=Object(R.a)({},this.state.formFields);s[a]="",n[a]=c,this.setState({formFields:n,formErrors:s})}},{key:"handleBlur",value:function(e){var t=e.target,a=t.name,c=t.value,s=Object(R.a)({},this.state.formErrors);s[a]=this.checkFieldValidity(a,c),this.setState({formErrors:s})}},{key:"showPassword",value:function(){this.setState((function(e){return{isPasswordVisible:!e.isPasswordVisible}}))}},{key:"render",value:function(){var e=this.state.formErrors,t=e.firstName,a=e.lastName,c=e.email,s=e.password;return Object(m.jsxs)(P.a,{title:"Signup",children:[Object(m.jsx)(q.a,{}),Object(m.jsx)("main",{children:Object(m.jsx)("section",{className:"join-us d-flex justify-content-center align-items-center",children:Object(m.jsxs)("div",{className:"join-us__container",children:[Object(m.jsx)("header",{className:"join-us__header",children:Object(m.jsx)("h2",{className:"join-us__heading",children:"Join Us"})}),Object(m.jsxs)("form",{className:"form-signup",onSubmit:this.handleSubmit,children:[Object(m.jsxs)("div",{className:"form-row",children:[Object(m.jsx)("div",{className:"form-col",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"firstName",children:"First Name"}),Object(m.jsx)("input",{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange,onBlur:this.handleBlur,className:t?"is-invalid":""}),t&&Object(m.jsx)("span",{className:"form-error",children:t})]})}),Object(m.jsx)("div",{className:"form-col",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"lastName",children:"Last Name"}),Object(m.jsx)("input",{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange,onBlur:this.handleBlur,className:a?"is-invalid":""}),a&&Object(m.jsx)("span",{className:"form-error",children:a})]})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{type:"email",name:"email",id:"email",onChange:this.handleChange,onBlur:this.handleBlur,className:c?"is-invalid":""}),c&&Object(m.jsx)("span",{className:"form-error",children:c})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"form-group__label",htmlFor:"password",children:"Password"}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("input",{type:this.state.isPasswordVisible?"text":"password",name:"password",id:"password",onChange:this.handleChange,onBlur:this.handleBlur,className:s?"is-invalid":""}),Object(m.jsx)("span",{role:"button",tabIndex:"0",className:"btn-view-password",onClick:this.showPassword,children:this.state.isPasswordVisible?Object(m.jsx)(Y.a,{}):Object(m.jsx)(Y.b,{})})]}),s&&Object(m.jsx)("span",{className:"form-error",children:s})]}),Object(m.jsx)(M.a,{variant:"contained",disabled:this.state.signingIn,type:"submit",size:"large",style:{boxShadow:"none"},children:this.state.signingIn?"Please wait...":"Signup"})]}),Object(m.jsxs)("p",{children:["You already have an account? ",Object(m.jsx)(A.b,{to:"/login",children:"Login"})]})]})})})]})}}]),a}(c.Component);se.contextType=u.a;var ne=Object(o.i)(se),re=a(574),ie=a(573);var oe=Object($.a)((function(e){return{backdrop:{zIndex:999,color:"#fff"}}})),le=function(e){var t=e.isProcessing,a=oe();return Object(m.jsx)("div",{children:Object(m.jsx)(re.a,{className:a.backdrop,open:t,children:Object(m.jsx)(ie.a,{color:"inherit"})})})},je=function(e,t){switch(t.type){case"login":return e.isLoggedIn=!0,e.fetchingUserData=!1,void(e.user=t.payload);case"logout":return void(e.logoutReqCount+=1);case"logoutSuccess":return e.isLoggedIn=!1,e.fetchingUserData=!1,void(e.user={wishlist:[],cart:[]});case"addItemToWishlist":return void(e.addWishlistItemId=t.payload);case"removeItemFromWishlist":return void(e.removeWishlistItemId=t.payload);case"updateWishlist":return void(e.user.wishlist=t.payload);case"updateCart":return void(e.user.cart=t.payload);case"openSideNav":return void(e.isSideNavOpen=!0);case"closeSideNav":return void(e.isSideNavOpen=!1);case"openSearch":return void(e.isSearchOpen=!0);case"closeSearch":return void(e.isSearchOpen=!1);case"searching":return void(e.searching=!0);case"appLoaded":return void(e.isLoading=!1);case"processing":return void(e.isProcessing=t.payload);default:return e}},de=s.a.lazy((function(){return a.e(9).then(a.bind(null,589))})),ue=s.a.lazy((function(){return Promise.all([a.e(4),a.e(6)]).then(a.bind(null,596))})),he=s.a.lazy((function(){return a.e(8).then(a.bind(null,591))})),be=s.a.lazy((function(){return a.e(7).then(a.bind(null,592))})),me=s.a.lazy((function(){return a.e(3).then(a.bind(null,594))})),Oe=s.a.lazy((function(){return a.e(5).then(a.bind(null,593))}));j.a.defaults.baseURL="/api/v1";var pe=function(){var e=Object(d.a)(je,{collectionProducts:[],isSideNavOpen:!1,isSearchOpen:!1,isLoggedIn:!1,isLoading:!0,user:{wishlist:[],cart:[]},addWishlistItemId:"",removeWishlistItemId:"",logoutReqCount:0,isProcessing:!1}),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){a.logoutReqCount&&(s({type:"processing",payload:!0}),j.a.post("/users/logout").then((function(){s({type:"logoutSuccess"}),s({type:"processing",payload:!1})})).catch((function(e){alert(e.response.data.error)})))}),[a.logoutReqCount]),Object(c.useEffect)((function(){j.a.get("/users/isAuthenticated").then((function(e){e.data.user&&s({type:"login",payload:e.data.user}),s({type:"appLoaded"})})).catch((function(e){alert(e.response.data.error)}))}),[]),Object(c.useEffect)((function(){a.wishlistReqCount&&j.a.patch("/users/my-wishlist/".concat(a.wishlistReqItemId)).then((function(e){return a.appDispatch({type:"updateWishlist",payload:e.data.wishlist})})).catch((function(e){alert(e.response.data.error)}))}),[a.wishlistReqCount]),Object(c.useEffect)((function(){""!==a.addWishlistItemId&&j.a.post("/users/my-wishlist/".concat(a.addWishlistItemId)).then((function(e){s({type:"updateWishlist",payload:e.data.wishlist}),s({type:"addItemToWishlist",payload:""})})).catch((function(e){alert(e.response.data.error)}))}),[a.addWishlistItemId]),Object(c.useEffect)((function(){""!==a.removeWishlistItemId&&j.a.delete("/users/my-wishlist/".concat(a.removeWishlistItemId)).then((function(e){s({type:"updateWishlist",payload:e.data.wishlist}),s({type:"removeItemFromWishlist",payload:""})})).catch((function(e){alert(e.response.data.error)}))}),[a.removeWishlistItemId]),a.isLoading?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a.Provider,{value:{appState:a,appDispatch:s},children:Object(m.jsx)(c.Suspense,{fallback:Object(m.jsx)(H.a,{}),children:Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:"/",children:Object(m.jsx)(B,{})}),Object(m.jsx)(o.b,{path:"/search",children:Object(m.jsx)(de,{})}),Object(m.jsx)(o.b,{path:"/products/:id",children:Object(m.jsx)(me,{})}),Object(m.jsx)(o.b,{path:"/my-cart",children:Object(m.jsx)(Oe,{})}),Object(m.jsx)(o.b,{path:"/my-wishlist",children:Object(m.jsx)(J,{})}),Object(m.jsx)(Q,{path:"/profile",children:Object(m.jsx)(ue,{})}),Object(m.jsx)(o.b,{path:"/login",children:a.isLoggedIn?Object(m.jsx)(o.a,{to:"/"}):Object(m.jsx)(X,{})}),Object(m.jsx)(o.b,{path:"/signup",children:a.isLoggedIn?Object(m.jsx)(o.a,{to:"/"}):Object(m.jsx)(ne,{})}),Object(m.jsx)(o.b,{path:"/checkout-success",children:Object(m.jsx)(be,{})}),Object(m.jsx)(o.b,{children:Object(m.jsx)(he,{})})]})})}),a.isProcessing&&Object(m.jsx)(le,{isProcessing:a.isProcessing})]})};a(518);r.a.render(Object(m.jsx)(A.a,{children:Object(m.jsx)(pe,{})}),document.getElementById("root"))},73:function(e,t,a){"use strict";var c=a(1),s=a(2);t.a=function(e){return Object(c.useEffect)((function(){document.title="".concat(e.title," | OnlineShopping"),window.scrollTo(0,0)}),[e.title]),Object(s.jsx)(s.Fragment,{children:e.children})}},74:function(e,t,a){"use strict";var c=a(1),s=a(16),n=a(566),r=a(157),i=a(155),o=a.n(i),l=a(264),j=a.n(l),d=a(154),u=a.n(d),h=a(32),b=a(13),m=a(7),O=a(189),p=a.n(O),x=a(265),f=a(129),g=a(567),v=a(568),y=a(522),N=a(261),w=a.n(N),_=a(30),S=a(2);var C=Object(m.a)({})((function(e){return Object(S.jsx)(x.a,Object(h.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),I=Object(m.a)({root:{"&:focus, &:focus-within":{backgroundColor:"var(--clr-primary)","& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:"#fff"}}}})(f.a),k=Object(m.a)({root:{backgroundColor:"var(--clr-primary)",color:"#fff",marginLeft:"2rem","&:focus, &:hover":{backgroundColor:"var(--clr-primary)"}}})(y.a),P=function(){var e=Object(c.useContext)(_.a),t=e.appState,a=e.appDispatch,n=Object(c.useState)(null),r=Object(b.a)(n,2),i=r[0],o=r[1];return Object(S.jsx)(S.Fragment,{children:t.isLoggedIn?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(k,{variant:"contained",size:"large","aria-controls":"customized-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},startIcon:Object(S.jsx)(p.a,{className:"svg-icon"}),children:"Roni"}),Object(S.jsxs)(C,{id:"customized-menu",anchorEl:i,open:Boolean(i),onClose:function(){t.isLoggedIn&&o(null)},keepMounted:!0,children:[Object(S.jsxs)(I,{component:s.b,to:"/profile",children:[Object(S.jsx)(g.a,{children:Object(S.jsx)(p.a,{})}),Object(S.jsx)(v.a,{primary:"Profile"})]}),Object(S.jsxs)(I,{onClick:function(){window.confirm("Do you want to logout?")&&(o(null),a({type:"logout"}))},children:[Object(S.jsx)(g.a,{children:Object(S.jsx)(w.a,{})}),Object(S.jsx)(v.a,{primary:"Logout"})]})]})]}):Object(S.jsx)(k,{variant:"contained",color:"primary",size:"large",to:"/login",component:s.b,children:"Login"})})},L=a(572),W=a(575),E=a(262),F=a.n(E),T=a(521);var z=Object(T.a)({root:{fontSize:"1.5rem",textDecoration:"none",fontWeight:600,color:"var(--clr-primary)",display:"flex",alignItems:"center"},logoText:{display:"none","@media (min-width: 600px)":{display:"inline-block"}}}),q=Object(m.a)({root:{marginLeft:"0.5rem",transformOrigin:"top center",fontSize:"1.75rem",animation:"$logoIconAnimate 5s ease-in-out infinite"},"@keyframes logoIconAnimate":{"0%, 100%":{transform:"rotate(0deg)"},"10%":{transform:"rotate(15deg)"},"20%":{transform:"rotate(-15deg)"},"30%":{transform:"rotate(10deg)"},"40%":{transform:"rotate(-10deg)"},"50%":{transform:"rotate(0)"}}})(F.a),D=function(){var e=z();return Object(S.jsxs)(s.b,{to:"/",className:e.root,children:[Object(S.jsx)("span",{className:e.logoText,children:"Online Shopping"}),Object(S.jsx)(q,{className:"Logo__icon"})]})};a(515);t.a=function(){var e=Object(c.useContext)(_.a),t=e.appState,a=e.appDispatch;return Object(S.jsx)("header",{className:"MainHeader",children:Object(S.jsx)(n.a,{maxWidth:"lg",children:Object(S.jsxs)("div",{className:"MainHeader__container",children:[Object(S.jsx)(D,{}),Object(S.jsxs)("div",{className:"MainHeader__right",children:[Object(S.jsx)(W.a,{title:"Wishlist",children:Object(S.jsx)(r.a,{to:"/my-wishlist","aria-label":"show ".concat(t.user.wishlist.length," cart items"),component:s.b,children:Object(S.jsx)(L.a,{badgeContent:t.user.wishlist.length,color:"secondary",children:Object(S.jsx)(u.a,{})})})}),Object(S.jsx)(W.a,{title:"Search",children:Object(S.jsx)(r.a,{onClick:function(){a({type:"openSearch"})},children:Object(S.jsx)(o.a,{})})}),Object(S.jsx)(W.a,{title:"Cart",children:Object(S.jsx)(r.a,{to:"/my-cart","aria-label":"show ".concat(t.user.cart.length," cart items"),component:s.b,children:Object(S.jsx)(L.a,{badgeContent:t.user.cart.length,color:"secondary",children:Object(S.jsx)(j.a,{})})})}),Object(S.jsx)(P,{})]})]})})})}},93:function(e,t,a){"use strict";var c=a(1),s=a.n(c),n=(a(516),a(2));function r(){return Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"loading-circle loading-circle-1",children:Object(n.jsx)("svg",{viewBox:"0 0 576 512",style:{width:"30px",height:"30px"},title:"shopping-cart",children:Object(n.jsx)("path",{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})})})})})}t.a=s.a.memo(r)}},[[519,1,2]]]);
//# sourceMappingURL=main.a1f9fa3f.chunk.js.map