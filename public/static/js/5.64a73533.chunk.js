(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[5],{577:function(e,t,c){},594:function(e,t,c){"use strict";c.r(t);var n=c(32),r=c(13),a=c(1),i=c(22),o=c.n(i),s=c(17),l=c(30),j=c(73),d=c(578),u=c(99),b=c(156),h=c(263),f=c(572),x=c(576),O=c.n(x),m=c(2);var p=function(e){var t=e.handleLogout,c=e.handleDeleteAccount,n=Object(a.useState)(null),i=Object(r.a)(n,2),o=i[0],s=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(b.a,{"aria-label":"more","aria-controls":"profile-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(m.jsx)(O.a,{})}),Object(m.jsxs)(h.a,{id:"profile-menu",anchorEl:o,open:Boolean(o),onClose:function(){s(null)},children:[Object(m.jsx)(f.a,{onClick:t,children:"Logout"}),Object(m.jsx)(f.a,{onClick:c,children:"Delete Account"})]})]})},v=c(595),g=c(588),y=c(519),N=c(593);var k=Object(y.a)({root:{width:"100%",maxWidth:"900px",margin:"0 auto 2rem",background:"#fff",boxShadow:"0 0 4px rgba(0, 0, 0, 0.15)",padding:"2rem","& header":{color:"#464343",textAlign:"center",marginBottom:"2rem","& h5":{fontWeight:"600",fontSize:"1.25rem",color:"var(--clr-primary)",fontFamily:"sans-serif",textTransform:"capitalize"},"& p":{marginBottom:"0.5rem"}}}}),w=function(e){var t=e.title,c=e.price,n=e.qty,r=k();return Object(m.jsxs)("div",{className:r.root,children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("h5",{children:t}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Price:"})," ",c.toLocaleString()]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Qty:"})," ",n]})]}),Object(m.jsx)(v.a,{activeStep:1,alternativeLabel:!0,children:["Order placed","Shipped to your city","Delivered"].map((function(e){return Object(m.jsx)(g.a,{children:Object(m.jsx)(N.a,{children:e})},e)}))})]})},S=c(566),_=c(93);c(577);t.default=function(){var e=Object(a.useContext)(l.a),t=e.appState,c=e.appDispatch,i=t.user,b=Object(a.useState)(!0),h=Object(r.a)(b,2),f=h[0],x=h[1],O=Object(a.useState)([]),v=Object(r.a)(O,2),g=v[0],y=v[1],N=Object(a.useState)(0),k=Object(r.a)(N,2),C=k[0],D=k[1];Object(a.useState)((function(){var e=o.a.CancelToken.source();return o.a.get("/my-orders",{cancelToken:e.token}).then((function(e){y(e.data.orders),x(!1)})).catch((function(e){o.a.isCancel(e)||alert(e.response.data.error)})),function(){return e.cancel()}}),[]),Object(a.useEffect)((function(){if(C){var e=o.a.CancelToken.source();return o.a.delete("/users/profile",{},{cancelToken:e.token}).then((function(){window.location.href="/"})).catch((function(e){o.a.isCancel(e)||alert(e.response.data.error)})),function(){return e.cancel()}}}),[C]);var T=g.length?g.map((function(e){return Object(m.jsx)(w,Object(n.a)({},e.product),e._id)})):Object(m.jsxs)("div",{className:"no-orders",children:[Object(m.jsx)("h2",{children:"You have not ordered anything yet!"}),Object(m.jsx)(S.a,{to:"/",variant:"contained",size:"large",style:{background:"var(--clr-primary)",color:"#fff"},component:s.b,children:"Go Back Home"})]});return f?Object(m.jsx)(_.a,{}):Object(m.jsx)(j.a,{title:"My Profile",children:Object(m.jsx)("main",{children:Object(m.jsx)("section",{className:"profile",children:Object(m.jsxs)("div",{className:"profile-grid",children:[Object(m.jsxs)("div",{className:"profile-grid__col d-flex flex-column",children:[Object(m.jsxs)("header",{className:"d-flex align-items-center justify-content-between",children:[Object(m.jsxs)(s.b,{to:"/",className:"btn-go-home d-flex align-items-center",children:[Object(m.jsx)(u.d,{}),Object(m.jsx)("span",{children:"Go Home"})]}),Object(m.jsx)(p,{handleDeleteAccount:function(e){e.preventDefault(),window.confirm("Do you want to DELETE your account?")&&D(C+1)},handleLogout:function(){window.confirm("Do you want to logout?")&&c({type:"logout"})}})]}),Object(m.jsx)("div",{className:"user-container flex-grow-1",children:Object(m.jsxs)("div",{className:"user",children:[Object(m.jsx)("div",{style:{fontSize:"5rem",lineHeight:0},children:Object(m.jsx)(d.a,{})}),Object(m.jsxs)("div",{className:"user__text",children:[Object(m.jsx)("div",{className:"user__name text-capitalize",children:i.firstName+" "+i.lastName}),Object(m.jsx)("div",{className:"user__email",children:i.email})]})]})})]}),Object(m.jsx)("div",{style:{position:"relative"},className:"profile-grid__col",children:T})]})})})})}}}]);
//# sourceMappingURL=5.64a73533.chunk.js.map